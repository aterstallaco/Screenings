<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film Screening Map</title>
    <!-- Leaflet CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Josefin Sans from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Josefin Sans', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa; /* Light gray background */
            color: #212529; /* Dark text color */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        #map {
            width: 90%;
            height: 60vh;
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06); /* Lighter, more visible shadow */
            margin-top: 1.5rem;
        }

        /* Leaflet Popups */
        .leaflet-popup-content-wrapper {
            background-color: #ffffff; /* White background */
            color: #212529;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        .leaflet-popup-tip {
            background-color: #ffffff;
        }
        .leaflet-container a.leaflet-popup-close-button {
            color: #6c757d; /* Darker close button */
        }

        /* Custom marker styling with SVG */
        .marker {
            width: 30px;
            height: 30px;
            cursor: pointer;
        }

        .title {
            font-size: 2rem;
            font-weight: 700;
            margin-top: 1rem;
            text-align: center;
        }
        .description {
            font-size: 1rem;
            text-align: center;
            margin-bottom: 1rem;
            max-width: 600px;
        }
        .content-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        .btn-link {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: #A3B18A; /* A more vibrant green for contrast */
            color: white;
            border-radius: 0.5rem;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        .btn-link:hover {
            background-color: #899478;
        }
        .btn-link svg {
            margin-left: 0.5rem;
        }

        .top-graphic-container {
            width: 120px;
            height: 120px;
            background-color: #A3B18A;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
    </style>
</head>
<body>

    <div class="top-graphic-container">
        <img src="./images/happy.png" alt="Happy Face" class="h-full w-full rounded-full" style="object-fit: contain;">
    </div>

    <div class="content-box">
        <h1 class="title">Film Screening Locations</h1>
        <p class="description">
            Explore the different cities where our film has been screened. Each location on the map
            represents a unique community connection.
        </p>
    </div>

    <div id="map"></div>

    <script>
        // Initialize the Leaflet map and set its initial view to the USA
        const map = L.map('map').setView([39.8283, -98.5795], 3);

        // Add the OpenStreetMap tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // Define your locations and content
        const locations = [
            {
                coordinates: [40.7128, -74.006],
                name: "New York City Premiere",
                date: "October 2025",
                url: "#"
            },
            {
                coordinates: [34.0522, -118.2437],
                name: "Los Angeles Screening",
                date: "November 2025",
                url: "#"
            },
            {
                coordinates: [41.8781, -87.6298],
                name: "Chicago Film Festival",
                date: "December 2025",
                url: "#"
            }
        ];

        // Custom SVG for the marker icon
        const customIcon = L.divIcon({
            html: `
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="color: #A3B18A;" class="w-6 h-6">
                    <path fill-rule="evenodd" d="M11.54 22.351A8.257 8.257 0 0 1 12 21.75c2.841 0 5.455-1.04 7.42-2.788A9.098 9.098 0 0 0 12 15.75a9.097 9.097 0 0 0-7.92 3.212c1.965 1.748 4.579 2.788 7.42 2.788ZM9 12a3 3 0 1 0 6 0 3 3 0 0 0-6 0Zm-5.455 5.516A11.238 11.238 0 0 1 12 13.5c3.605 0 6.954 1.186 9.715 3.166A11.954 11.954 0 0 0 12 12.75c-3.605 0-6.954 1.186-9.715 3.166A11.954 11.954 0 0 0 2.25 18c0 .265.02.529.06.791l1.727-1.536Zm2.55-3.033A8.24 8.24 0 0 0 12 14.25a8.239 8.239 0 0 0 7.155-3.767A10.435 10.435 0 0 1 12 11.25c-2.454 0-4.706.772-6.505 2.062Z" clip-rule="evenodd" />
                </svg>
            `,
            className: '', // Prevents Leaflet's default icon styling
            iconSize: [30, 30],
            iconAnchor: [15, 30]
        });

        // Iterate over locations and add markers
        locations.forEach(location => {
            const popupContent = `
                <h3 class="text-xl font-bold">${location.name}</h3>
                <p class="text-sm text-gray-400 mt-1">${location.date}</p>
                <a href="${location.url}" class="btn-link mt-3" target="_blank">
                    Learn More
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                    </svg>
                </a>
            `;

            L.marker(location.coordinates, {icon: customIcon})
                .addTo(map)
                .bindPopup(popupContent);
        });
    </script>
</body>
</html>
